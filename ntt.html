<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Circuit Threshold</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  padding: 20px;
}

.card {
  max-width: 420px;
  margin: auto;
  background: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  padding: 18px;
}

.card h2 {
  background: #0b7a0b;
  color: #fff;
  padding: 12px;
  text-align: center;
  border-radius: 8px;
  font-size: 18px;
  margin-bottom: 18px;
}

label {
  display: block;
  margin-bottom: 12px;
  color: #0b7a0b;
  font-size: 14px;
}

input {
  width: 100%;
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid #9ccc9c;
}

button {
  width: 100%;
  background: #0b7a0b;
  color: #fff;
  padding: 10px;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  cursor: pointer;
  margin-top: 10px;
}

.result {
  margin-top: 18px;
  padding: 14px;
  border-radius: 8px;
  border: 1px solid #ccc;
  background: #f9f9f9;
  font-size: 14px;
}

/* ðŸ”¥ COLOR RULES */
.buy {
  color: #1565c0; /* BLUE */
  font-weight: bold;
}

.sell {
  color: #d32f2f; /* RED */
  font-weight: bold;
}

.unblock {
  color: #2e7d32; /* GREEN */
  font-weight: bold;
}
</style>
</head>

<body>

<div class="card">
  <h2>Circuit Threshold</h2>

  <label>Close Price
    <input type="number" id="close" step="0.01">
  </label>

  <label>Lower Circuit Limit
    <input type="number" id="lowerCkt" step="0.01">
  </label>

  <label>Upper Circuit Limit
    <input type="number" id="upperCkt" step="0.01">
  </label>

  <label>Block Threshold %
    <input type="number" id="blockPct" value="70">
  </label>

  <label>Unblock Threshold %
    <input type="number" id="unblockPct" value="40">
  </label>

  <button onclick="calculate()">Calculate</button>

  <div class="result" id="output">
    Enter values and click Calculate
  </div>
</div>

<script>
function calculate() {
  const close = parseFloat(document.getElementById('close').value);
  const lower = parseFloat(document.getElementById('lowerCkt').value);
  const upper = parseFloat(document.getElementById('upperCkt').value);
  const blockPct = parseFloat(document.getElementById('blockPct').value);
  const unblockPct = parseFloat(document.getElementById('unblockPct').value);

  if (isNaN(close) || isNaN(lower) || isNaN(upper)) {
    document.getElementById('output').innerHTML =
      "<span class='sell'>Please enter all valid values.</span>";
    return;
  }

  const buyBlock = close - ((close - lower) * blockPct / 100);
  const sellBlock = close + ((upper - close) * blockPct / 100);
  const buyUnblock = close - ((close - lower) * unblockPct / 100);
  const sellUnblock = close + ((upper - close) * unblockPct / 100);

  document.getElementById('output').innerHTML = `
    <div class="buy">
      ðŸ”µ BUY blocked when LTP less than ${buyBlock.toFixed(2)}
    </div><br>

    <div class="sell">
      ðŸ”´ SELL blocked when LTP greater than ${sellBlock.toFixed(2)}
    </div><br>

    <div class="unblock">
      ðŸŸ¢ UNBLOCK when LTP is between
      ${buyUnblock.toFixed(2)} to ${sellUnblock.toFixed(2)}
    </div>
  `;
}
</script>

</body>
</html>