<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Circuit Threshold Checker</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f1f3f6;
  padding: 30px;
}

.card {
  background: #fff;
  padding: 25px;
  max-width: 600px;
  margin: auto;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

label {
  display: block;
  margin-top: 12px;
}

input {
  width: 100%;
  padding: 8px;
}

button {
  margin-top: 20px;
  padding: 10px 20px;
  background: #1976d2;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.result {
  margin-top: 25px;
  padding: 18px;
  background: #f9f9f9;
  border: 1px solid #ccc;
  line-height: 1.6;
}

/* COLOR RULES */
.buy {
  color: #1565c0; /* BLUE */
  font-weight: bold;
}

.sell {
  color: #d32f2f; /* RED */
  font-weight: bold;
}

.unblock {
  color: #2e7d32; /* GREEN */
  font-weight: bold;
}

.error {
  color: red;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="card">
  <h2>Circuit Threshold Calculator</h2>

  <label>Close Price
    <input type="number" id="close" step="0.01">
  </label>

  <label>Lower Circuit Limit
    <input type="number" id="lowerCkt" step="0.01">
  </label>

  <label>Upper Circuit Limit
    <input type="number" id="upperCkt" step="0.01">
  </label>

  <label>Block Threshold %
    <input type="number" id="blockPct" value="70">
  </label>

  <label>Unblock Threshold %
    <input type="number" id="unblockPct" value="40">
  </label>

  <button onclick="calculate()">Calculate</button>

  <div class="result" id="output"></div>
</div>

<script>
function calculate() {
  const close = parseFloat(document.getElementById('close').value);
  const lower = parseFloat(document.getElementById('lowerCkt').value);
  const upper = parseFloat(document.getElementById('upperCkt').value);
  const blockPct = parseFloat(document.getElementById('blockPct').value);
  const unblockPct = parseFloat(document.getElementById('unblockPct').value);

  if (isNaN(close) || isNaN(lower) || isNaN(upper)) {
    document.getElementById('output').innerHTML =
      "<span class='error'>Please enter all valid values.</span>";
    return;
  }

  // Threshold calculations
  const buyBlockLTP = close - ((close - lower) * blockPct / 100);
  const sellBlockLTP = close + ((upper - close) * blockPct / 100);

  const buyUnblockLTP = close - ((close - lower) * unblockPct / 100);
  const sellUnblockLTP = close + ((upper - close) * unblockPct / 100);

  document.getElementById('output').innerHTML = `
    <div class="buy">
      ðŸ”µ BUY Orders BLOCKED when LTP less than ${buyBlockLTP.toFixed(2)}
    </div><br>

    <div class="sell">
      ðŸ”´ SELL Orders BLOCKED when LTP greater than ${sellBlockLTP.toFixed(2)}
    </div><br>

    <div class="unblock">
      ðŸŸ¢ Orders UNBLOCKED when LTP is between
      ${buyUnblockLTP.toFixed(2)} to ${sellUnblockLTP.toFixed(2)}
    </div>
  `;
}
</script>

</body>
</html>